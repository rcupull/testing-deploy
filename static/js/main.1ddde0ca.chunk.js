(this["webpackJsonpsmart-mapping-frontend"]=this["webpackJsonpsmart-mapping-frontend"]||[]).push([[0],{320:function(e,t){},322:function(e,t){},365:function(e,t,n){"use strict";n.r(t);var r=n(14),o=n.n(r),c=n(7),a=n(0),l=n.n(a),i=n(23),u=n(121),d=n(18),s=n(16),f={colors:{simpleText:"#000000",primaryText:"#2c304d",placeholderText:"#98a8b4",errorTextMessage:"#94a4b0",sideBarIconActive:"#97bf3d",sideBarIconInactive:"#98a8b4",sideBarText:"#aea9c3",billsActionIcon:"#98a8b4",billsActionIconHover:"#FFFFFF",billsActionIconBackgroundHover:"#97bf3d",dataCardDefaultTitleColor:"#00000080",dataCardPrimaryTitleColor:"#97bf3d",styledForm:"#342868",profileItemText:"#5d5386",sidebarBackground:"#2c304d",tableTextColor:"#5d5386",tableHead:"#342868",tableTh:"#e0dfe9",dataBoxText:"#2c304d",inputText:"#2c304d",inputBorder:"#eee",inputBorderFocus:"#5d5386",shadowButtonText:"#5d5386",primaryButtonBackground:"#97bf3d",primaryButtonHover:"#88ab3f",primaryButtonText:"#FFFFFF",successButtonBackground:"#60c400",successButtonText:"#FFFFFF",successButtonHover:"#00662B",errorButtonBackground:"#fe195e",errorButtonText:"#FFFFFF",errorButtonHover:"#c9302c",infoButtonBackground:"#5bc0de",infoButtonText:"#FFFFFF",infoButtonHover:"#31b0d5",defaultButtonBackground:"#e4e8f0 ",defaultButtonText:"#2c304d",defaultButtonHover:"#2C304d",defaultButtonTextHover:"#FFFFFF",inboxSpinner:"#2c304d",pagination:"#aea9c3",paginationActive:"#5d5386",dropdownSelectBackground:"#f8f9fa",dropdownSelectText:"#999",dropdownSelectTextSelected:"#2c304d",accordionText:"#5d5386",accordionTextHover:"#97bf3d",chartSuccess:"green",chartError:"red",chartInfo1:"gray",errorIconColor:"#ce4926",successIconColor:"#8aab3c",disabledIconColor:"#e1e2e4",toggleSwitchTrueBackground:"#8aab3c",toggleSwitchDisabledBackground:"#e1e2e4",toggleSwitchFalseBackground:"#ce4926",toggleSwitchTrueDisabledBackground:"#9aac70",toggleSwitchFalseDisabledBackground:"#ce7f6c",hoverColor:"rgba(0,0,0,0.2)",selectedColor:"rgba(200,50,0,0.5)",foundedColor:"rgba(200,200,0,0.5)",mappedColor:"rgba(50,200,0,0.5)",mappedSelectedColor:"rgba(0,100,0,0.5)",keyColor:"rgb(235, 93, 100)"},shadows:{xs:"0px 0px 1px 1px rgba(52, 40, 104, 0.08)",sm:"0px 0px 2px 1px rgba(52, 40, 104, 0.08)",md:"0px 0px 4px 1px rgba(52, 40, 104, 0.08)",lg:"0px 0px 15px 1px rgba(52, 40, 104, 0.08)",xl:"0px 0px 15px 3px rgba(52, 40, 104, 0.08)",xxl:"0px 0px 15px 5px rgba(52, 40, 104, 0.08)"},fontSizes:{xs:"0.7rem",sm:"0.9rem",md:"1rem",lg:"1.3rem",xl:"2rem",xxl:"2.5rem",xxxl:"3.2rem"},fontWeights:{reg:"300",med:"500",sem:"600",bld:"700"},default:{fontFamily:"'Montserrat', sans-serif",backgroundColor:"#f2f3f8"}};function b(){var e=Object(d.a)(["\n  body {\n    font-family: ",";\n    background-color: ",";\n    margin:0;\n  }\n"]);return b=function(){return e},e}var j,p,O,x,v=Object(s.createGlobalStyle)(b(),(function(e){return e.theme.default.fontFamily}),(function(e){return e.theme.default.backgroundColor})),h=function(e){var t=e.children;return Object(c.jsxs)(s.ThemeProvider,{theme:f,children:[Object(c.jsx)(v,{}),t]})},m=n(13),g=n(59),y=n(286),C=n(55),T=n(262),S=n(19),F=n(85),w=n(48),B="application/json",P="text/xml",k={DOCUMENT:"document",SPOOL:"spool",MAP:"map"},E={row:"0",column:"0",length:"0",xpath:"",jsonpath:""},A=E,D=(j={},Object(S.a)(j,k.SPOOL,{}),Object(S.a)(j,k.DOCUMENT,{}),Object(S.a)(j,k.MAP,{}),j),M="file",N=function(e){return e.file},L=Object(m.a)(Object(m.a)({},Object(F.a)({name:M,initialState:D,reducers:{setFile:function(e,t){var n=t.payload,r=n.dataFile;e[n.contextType]=r}}})),{},{selectors:{getData:N,getFile:function(e){return Object(w.a)(N,(function(t){return t[e]}))}}}),I=function(e){return e.map},U=Object(m.a)(Object(m.a)({},Object(F.a)({name:"map",initialState:{name:"",input:{content_type:"<txt|xml|json>",encoding:"",split:"",sections:null},output:{content_type:"<txt|xml|json>",encoding:"",base:""},fields:[],transformations:[]},reducers:{addField:function(e,t){var n=t.payload;e.fields.push(n)}},extraReducers:Object(S.a)({},L.actions.setFile.type,(function(e,t){var n=t.payload,r=n.dataFile.json;if(n.contextType===k.MAP)return r}))})),{},{selectors:{getData:I,getFields:Object(w.a)(I,(function(e){return null===e||void 0===e?void 0:e.fields}))}}),R=n(171),_=n.n(R),H=n(275),X=n(39),z=n(276),Y=function(e,t){return e?"".concat(e,"/").concat(t):t},V=function(e,t){return"".concat(e,"[").concat(t,"]")},q=function e(t){var n,r=t.value,o=t.path,c=t.handleAddPath;Object(X.isObject)(r)?Object(X.isArray)(r)?null===r||void 0===r||r.forEach((function(t,n){e({value:t,path:V(o,n),handleAddPath:c})})):null===(n=Object.keys(r))||void 0===n||n.forEach((function(t){e({value:r[t],path:Y(o,t),handleAddPath:c})})):c(o)},J=function(e){var t=[];return q({value:e,handleAddPath:function(e){t.push(e)}}),t},G=function(e){var t=e.direction,n=void 0===t?"down":t,r=e.selectedPath,o=e.paths,c=null;return"down"===n&&(c=r?o.findIndex((function(e){return e===r}))+1:0)>o.length-1&&(c=0),"up"===n&&(c=r?o.findIndex((function(e){return e===r}))-1:o.length-1)<0&&(c=o.length-1),c},K=function(e,t){return"".concat(t,"/").concat(e)},W=(p={},Object(S.a)(p,k.SPOOL,{paths:[],foundedPaths:[],selectedPath:null}),Object(S.a)(p,k.DOCUMENT,{paths:[],foundedPaths:[],selectedPath:null}),p),Q="management",Z=function(e){return e.management},$=Object(m.a)(Object(m.a)({},Object(F.a)({name:Q,initialState:W,reducers:{setSelectedPath:function(e,t){var n=t.payload,r=n.path;e[n.contextType].selectedPath=r},setFoundedPaths:function(e,t){var n=t.payload,r=n.paths;e[n.contextType].foundedPaths=r},setSelectedField:function(e,t){var n=t.payload;e.selectedField=n}},extraReducers:Object(S.a)({},L.actions.setFile.type,(function(e,t){var n=t.payload,r=n.dataFile.json,o=n.contextType;o!==k.MAP&&(e[o].paths=J(r))}))})),{},{selectors:{getData:Z,getContext:function(e){return Object(w.a)(Z,(function(t){return t[e]}))},getSelectedField:Object(w.a)(Z,(function(e){return null===e||void 0===e?void 0:e.selectedField}))}}),ee=(O={},Object(S.a)(O,U.name,U.reducer),Object(S.a)(O,L.name,L.reducer),Object(S.a)(O,$.name,$.reducer),O),te=Object(y.a)(),ne=Object(C.a)(),re=Object(T.a)(ne),oe=Object(g.a)(te,re),ce=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):g.d)(oe),ae=Object(g.c)(Object(m.a)(Object(m.a)({},ee),{},{router:Object(u.b)(ne)})),le=Object(g.e)(ae,ce),ie=n(45),ue=n(12),de=n(279),se=n(172);function fe(){var e=Object(d.a)(["\n    cursor: pointer;\n    border: solid 2px gray;\n    border-radius: 50%;\n    padding: 3px;\n    margin: 5px;\n"]);return fe=function(){return e},e}var be,je="next",pe="prev";x={},Object(S.a)(x,je,se.SvgArrowRightSolid),Object(S.a)(x,pe,de.SvgArrowLeftSolid),Object(s.default)(ue.Box)(fe()),n(280);function Oe(){var e=Object(d.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return Oe=function(){return e},e}function xe(){var e=Object(d.a)(["\n  position: relative;\n  width: 3rem;\n  height: 2rem;\n\n"]);return xe=function(){return e},e}var ve="error",he="warning",me="success",ge=(be={},Object(S.a)(be,ve,"red"),Object(S.a)(be,he,"yellow"),Object(S.a)(be,me,"green"),Object(s.default)(ue.Box)(xe()),Object(s.default)(ue.Box)(Oe()),n(30)),ye=n(281),Ce=n(282);function Te(){var e=Object(d.a)(["\n    border: none;\n"]);return Te=function(){return e},e}function Se(){var e=Object(d.a)(["\n   padding: 5px;\n   margin: 0 1rem;\n   display: flex;\n   align-items: center;\n   background-color: white;\n   flex-grow: 1;\n"]);return Se=function(){return e},e}function Fe(){var e=Object(d.a)(["\n    cursor: pointer;\n    margin-left: 10px;\n    flex-shrink: 0;\n"]);return Fe=function(){return e},e}var we=Object(s.default)(ue.Icon)(Fe()),Be=Object(s.default)(ue.Box)(Se()),Pe=Object(s.default)(ue.Input)(Te()),ke=function(e){var t=e.contextType,n=Object(a.useState)(null),r=Object(ge.a)(n,2),o=r[0],l=r[1],u=Object(i.d)(),d=Object(i.e)($.selectors.getContext(t)),s=d.paths,f=d.selectedPath,b=d.foundedPaths,j=function(e){return u($.actions.setSelectedPath({path:e,contextType:t}))},p=function(e){return u($.actions.setFoundedPaths({paths:e,contextType:t}))},O=function(){if(o){var e=s.filter((function(e){var t=e.split("/");return t[t.length-1].includes(o)}));null===p||void 0===p||p(e),null===j||void 0===j||j(e.length?e[0]:"")}else null===p||void 0===p||p([])},x=function(e){var t=G({paths:b,selectedPath:f,direction:e});j(b[t])},v=null===b||void 0===b?void 0:b.findIndex((function(e){return e===f}));return Object(a.useEffect)((function(){if(null!==o){var e=setTimeout(O,1e3);return function(){return clearTimeout(e)}}}),[o]),Object(c.jsxs)(Be,{children:[Object(c.jsx)(Pe,{onChange:function(e){return l(e.target.value)},value:o||"",placeholder:"Search"}),Object(c.jsx)(ue.Text,{color:"gray",fontSize:"sm",children:"".concat(v>=0?v+1:"0","/").concat((null===b||void 0===b?void 0:b.length)||0)}),Object(c.jsx)(we,{svg:Ce.SvgAngleUpSolid,size:"1rem",color:"gray",onClick:function(){return x("up")},style:{marginTop:"2px",marginLeft:"7px"}}),Object(c.jsx)(we,{svg:ye.SvgAngleDownSolid,size:"1rem",color:"gray",onClick:function(){return x("down")},style:{marginBottom:"2px",marginLeft:"2px"}})]})},Ee=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(ge.a)(t,2),r=n[0],o=n[1];return Object(m.a)(Object(m.a)({},e),{},Object(S.a)({},r,Object(i.e)(o)))}),{})},Ae=function(e){return null===e||void 0===e?void 0:e.map(i.e)},De=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0||Array.isArray(t)?Ae(t):Ee(t)},Me=n(5),Ne=n.n(Me);function Le(){var e=Object(d.a)(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n"]);return Le=function(){return e},e}function Ie(){var e=Object(d.a)(["\n   position: relative;\n   z-index: 2;\n   width: 100%;\n   height: 100%;\n   overflow: hidden;\n   opacity: 0;\n"]);return Ie=function(){return e},e}function Ue(){var e=Object(d.a)(["\n    position: relative;\n    width: 8rem;\n    height: 2rem;\n"]);return Ue=function(){return e},e}var Re,_e=Object(s.default)(ue.Box)(Ue()),He=Object(s.default)(ue.Input)(Ie()),Xe=Object(s.default)(ue.Button)(Le()),ze=Object(a.forwardRef)((function(e,t){var n=e.multiple,r=e.accept,o=e.label,a=e.onChange,l=e.onFocus,i=e.onBlur,u=e.onClick,d=Object(ie.a)(e,["multiple","accept","label","onChange","onFocus","onBlur","onClick"]);return Object(c.jsxs)(_e,Object(m.a)(Object(m.a)({},d),{},{children:[Object(c.jsx)(He,{type:"file",accept:r,multiple:n,onChange:a,onFocus:l,onBlur:i,ref:t,onClick:u}),Object(c.jsx)(Xe,{label:o})]}))}));ze.propTypes={label:Ne.a.string,multiple:Ne.a.bool,accept:Ne.a.string,onChange:Ne.a.func,onFocus:Ne.a.func,onBlur:Ne.a.func,onClick:Ne.a.func};var Ye=(Re={},Object(S.a)(Re,k.SPOOL,{label:"Cargar Spool",accept:".xml,.json"}),Object(S.a)(Re,k.DOCUMENT,{label:"Cargar Matcher",accept:".json"}),Object(S.a)(Re,k.MAP,{label:"Cargar Map",accept:".json"}),Re),Ve=function(e){var t=e.contextType,n=Object(ie.a)(e,["contextType"]),r=Object(a.useState)(""),o=Object(ge.a)(r,2),l=o[0],u=o[1],d=Object(a.useRef)(null),s=Object(i.d)();return Object(c.jsxs)(ue.Box,Object(m.a)(Object(m.a)({display:"flex",alignItems:"center"},n),{},{children:[Object(c.jsx)(ze,Object(m.a)({ref:d,onChange:function(e){var n=e.target.files[0];!function(e,t){var n=e.type,r=new FileReader;r.readAsText(e),n===P&&(r.onloadend=function(){var e=Object(H.a)(_.a.mark((function e(r){var o,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.target.result,e.next=3,a=o,Object(z.parseStringPromise)(a,{charkey:"#text",explicitArray:!1,mergeAttrs:!0,attrNameProcessors:[function(e){return"@".concat(e)}]});case 3:c=e.sent,null===t||void 0===t||t({type:n,json:c});case 5:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()),n===B&&(r.onloadend=function(e){var r=e.target.result,o=JSON.parse(r);null===t||void 0===t||t({type:n,json:o})})}(n,(function(e){return s(L.actions.setFile({dataFile:e,contextType:t}))})),d.current.value="",u(null===n||void 0===n?void 0:n.name)}},Ye[t])),Object(c.jsx)(ue.Text,{width:"8rem",ml:"5px",children:l||"<ninguno>"})]}))},qe=Object(a.forwardRef)((function(e,t){var n=e.data,r=e.filename,o=e.label,a=Object(ie.a)(e,["data","filename","label"]);return Object(c.jsx)(ue.Button,Object(m.a)({ref:t,label:o,onClick:function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(n)],{type:B});e.href=URL.createObjectURL(t),e.download=r,e.click()}},a))}));qe.defaultProps={filename:"data.json"};var Je=function(e){var t=Object(i.e)(U.selectors.getData);return Object(c.jsx)(qe,Object(m.a)({ml:"2rem",label:"Guardar Map",data:t},e))};function Ge(){var e=Object(d.a)(["\n    padding: 1rem;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    border: 1px solid gray;\n"]);return Ge=function(){return e},e}var Ke=Object(s.default)(ue.Box)(Ge()),We=function(e){var t=Object(i.d)(),n=De(L.selectors.getFile(k.DOCUMENT),L.selectors.getFile(k.SPOOL),$.selectors.getContext(k.DOCUMENT),$.selectors.getContext(k.SPOOL)),r=Object(ge.a)(n,4),o=r[0],a=r[1],l=r[2],u=r[3];return Object(c.jsxs)(Ke,Object(m.a)(Object(m.a)({},e),{},{children:[Object(c.jsx)(ue.Button,{design:"primary",label:"Vincular",onClick:function(){var e,n=function(e){var t=e[k.SPOOL],n=e[k.DOCUMENT];if(!(null===n||void 0===n?void 0:n.selectedPath))return alert("Debe seleccionar un field en el documento de referencia"),null;(null===t||void 0===t?void 0:t.selectedPath)||alert("Debe seleccionar un field en el spool");var r=function(e){var t=e.fileType,n=e.selectedPath;return t===P?{xpath:n}:t===B?{jsonpath:n}:{}};return{name:"",order:"",section:"",input:Object(m.a)(Object(m.a)({},E),r(t)),output:Object(m.a)(Object(m.a)({},A),r(n)),transformations:[]}}((e={},Object(S.a)(e,k.SPOOL,{selectedPath:null===u||void 0===u?void 0:u.selectedPath,fileType:null===a||void 0===a?void 0:a.type}),Object(S.a)(e,k.DOCUMENT,{selectedPath:null===l||void 0===l?void 0:l.selectedPath,fileType:null===o||void 0===o?void 0:o.type}),e));n&&t(U.actions.addField(n))}}),Object(c.jsx)(Ve,{ml:"2rem",contextType:k.SPOOL}),Object(c.jsx)(Ve,{ml:"2rem",contextType:k.DOCUMENT}),Object(c.jsx)(Ve,{ml:"2rem",contextType:k.MAP}),Object(c.jsx)(Je,{ml:"2rem"})]}))},Qe=n(283),Ze=n(284);function $e(){var e=Object(d.a)(["\n  color: ",";\n"]);return $e=function(){return e},e}var et={p:"1px 0 1px 1rem",ml:"0.6rem",borderLeft:"solid gray 1px"},tt=Object(s.default)(ue.Text)($e(),(function(e){return e.theme.colors.keyColor}));function nt(){var e=Object(d.a)(["\n  cursor: pointer;\n  width: fit-content;\n  border-radius: 1rem;\n  padding: 2px 5px;\n  background-color:",";\n"]);return nt=function(){return e},e}function rt(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  width: fit-content;\n  border-radius: 1rem;\n  padding: 2px;\n  background-color:",";\n  &:hover {\n    background-color:",";\n  }\n"]);return rt=function(){return e},e}function ot(){var e=Object(d.a)(["\n  padding: 0 5px;\n  ",";\n"]);return ot=function(){return e},e}function ct(){var e=Object(d.a)(["\n  max-width: 20rem;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return ct=function(){return e},e}var at=Object(s.css)(ct()),lt=Object(s.default)(ue.Box)(ot(),at),it=Object(s.default)(ue.Box)(rt(),(function(e){var t=e.selected,n=e.theme;return t?n.colors.selectedColor:"none"}),(function(e){var t=e.selected;return e.theme.colors[t?"selectedColor":"hoverColor"]})),ut=Object(s.default)(ue.Box)(nt(),(function(e){var t=e.founded,n=e.mapped,r=e.mapSelected,o=e.theme;return r?o.colors.mappedSelectedColor:n?o.colors.mappedColor:t?o.colors.foundedColor:"none"})),dt=l.a.memo(Object(a.forwardRef)((function(e,t){var n=e.field,r=e.value,o=e.selected,a=e.contextType,l=e.lineToClassName,i=Object(ie.a)(e,["field","value","selected","contextType","lineToClassName"]);return Object(c.jsx)(ue.Box,Object(m.a)(Object(m.a)({className:"fieldSpacingContainer"},et),{},{width:"fit-content",children:Object(c.jsx)(ut,Object(m.a)(Object(m.a)({className:"fieldContainer",ref:t},i),{},{children:Object(c.jsxs)(it,{className:"field",selected:o,children:[a===k.DOCUMENT&&Object(c.jsx)(ue.Box,{className:l}),Object(c.jsx)(tt,{children:'"'.concat(n,'" : ')}),Object(c.jsx)(lt,{children:Object(X.isString)(r)?'"'.concat(r,'"'):r}),a===k.SPOOL&&Object(c.jsx)(ue.Box,{className:l})]})}))}))})));dt.propTypes={value:Ne.a.any,field:Ne.a.string,selected:Ne.a.bool,mapped:Ne.a.bool,mapSelected:Ne.a.bool,founded:Ne.a.bool,contextType:Ne.a.oneOf(Object.values(k)).isRequired,lineToClassName:Ne.a.string,onClick:Ne.a.func};var st=n(277),ft=n(389),bt={mouseX:null,mouseY:null},jt=function(e){var t=e.items,n=void 0===t?[]:t,r=e.child,o=Object(a.useState)(bt),l=Object(ge.a)(o,2),i=l[0],u=l[1],d=function(){return u(bt)},s=Object(X.compact)(n);return Object(c.jsxs)(ue.Box,{onContextMenu:function(e){e.preventDefault(),u({mouseX:e.clientX-2,mouseY:e.clientY-4})},width:"fit-content",children:[r,Object(c.jsx)(st.a,{open:null!==i.mouseY&&s.length>0,onClose:d,anchorReference:"anchorPosition",anchorPosition:null!==i.mouseY&&null!==i.mouseX?{top:i.mouseY,left:i.mouseX}:void 0,children:null===s||void 0===s?void 0:s.map((function(e,t){var n=e.label,r=e.onClick,o=e.close;return Object(c.jsx)(ft.a,{onClick:function(){o&&d(),null===r||void 0===r||r()},children:n},t)}))})]})},pt=l.a.memo((function(e){var t=e.field,n=e.value,r=e.path,o=e.onCollapseParents,l=e.contextType,u=Object(a.useRef)(null),d=Object(i.d)(),s=De(U.selectors.getFields,$.selectors.getSelectedField,$.selectors.getContext(l)),f=Object(ge.a)(s,3),b=f[0],j=f[1],p=f[2],O=p.selectedPath,x=p.foundedPaths,v=Object(a.useMemo)((function(){return null===b||void 0===b?void 0:b.find((function(e){var t=e.input,n=e.output,o=l===k.SPOOL?t:n;return[o.xpath,o.jsonpath].includes(r)}))}),[b]),h=Object(a.useMemo)((function(){if(!j||!v)return!1;var e=j.input,t=j.output,n=l===k.SPOOL?e:t;return[n.xpath,n.jsonpath].includes(r)}),[j,v]),m=Object(a.useCallback)((function(){var e,t;e=r,d($.actions.setSelectedPath({path:e,contextType:l})),v&&(t=v,d($.actions.setSelectedField(t)))}),[r,v]),g=O===r;Object(a.useEffect)((function(){(g||h)&&(o(!1),function(){var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.scrollIntoView({block:"nearest",behavior:"smooth"})}())}),[g,h]);var y=[{label:"Vincular",close:!0,onClick:function(){return console.log(r)}},{label:"Eliminar vinculo",close:!0,onClick:function(){return console.log(r)}}];return Object(c.jsx)(jt,{items:y,child:Object(c.jsx)(dt,{ref:u,contextType:l,lineToClassName:K(r,l),field:t,value:n,onClick:m,selected:g,founded:null===x||void 0===x?void 0:x.includes(r),mapped:!!v,mapSelected:h})})}));function Ot(){var e=Object(d.a)(["\n  padding-left: 0.5rem;\n"]);return Ot=function(){return e},e}function xt(){var e=Object(d.a)(["\n  cursor: pointer;\n  width: fit-content;\n  display: flex;\n  align-items: center;\n"]);return xt=function(){return e},e}var vt=Object(s.default)(ue.Box)(xt()),ht=Object(s.default)(ue.Text)(Ot()),mt=function(e){var t=e.isArr;return Object(c.jsx)(ht,{children:t?"[...]":"{...}"})},gt=function(e){var t=e.isArr;return Object(c.jsx)(ht,{children:t?"[":"{"})},yt=function(e){var t=e.isArr;return Object(c.jsx)(ht,{children:t?"]":"}"})},Ct=l.a.memo((function(e){var t=e.value,n=e.field,r=e.path,o=e.onCollapseParents,l=e.contextType,i=Object(a.useState)(!1),u=Object(ge.a)(i,2),d=u[0],s=u[1],f=Object(a.useCallback)((function(e){null===o||void 0===o||o(e),s(e)}),[]),b=Object(X.isArray)(t),j=b?t:Object.entries(t);return Object(c.jsxs)(ue.Box,Object(m.a)(Object(m.a)({},n?et:{}),{},{children:[Object(c.jsxs)(vt,{onClick:function(){return s(!d)},children:[Object(c.jsx)(ue.Icon,{svg:d?Qe.SvgPlusSquare:Ze.SvgMinusSquare,size:"1.2rem",color:"gray"}),n&&Object(c.jsx)(tt,{children:"".concat(n,":")}),d?Object(c.jsx)(mt,{isArr:b}):Object(c.jsx)(gt,{isArr:b})]}),Object(c.jsxs)(ue.Box,{display:d?"none":"block",children:[null===j||void 0===j?void 0:j.map((function(e,t){var n=b?e:e[1],o=b?t.toString():e[0],a=b?V(r,t):Y(r,o);return Object(X.isObject)(n)?Object(c.jsx)(Ct,{value:n,field:o,path:a,onCollapseParents:f,contextType:l},t):Object(c.jsx)(pt,{value:n,field:o,path:a,onCollapseParents:f,contextType:l},t)})),Object(c.jsx)(yt,{isArr:b})]})]}))}));function Tt(){var e=Object(d.a)(["\nwidth: 100%;\nheight: 80vh;\n  overflow: auto;\n  &:focus {\n    outline: none;\n  }\n"]);return Tt=function(){return e},e}var St=Object(s.default)(ue.Box)(Tt()),Ft=l.a.memo((function(e){var t=e.contextType,n=e.onScrolling,r=Object(i.d)(),o=Object(a.useRef)(null),l=Object(i.e)(L.selectors.getFile(t)).json,u=Object(i.e)($.selectors.getContext(t)),d=u.paths,s=u.selectedPath,f=function(e){var n,o=e.keyCode,c=40===o;if(c||38===o){var a=G({paths:d,selectedPath:s,direction:c?"down":"up"});n=d[a],r(L.actions.setSelectedPath({path:n,contextType:t}))}},b=function(){console.log("here")},j=function(e){var t=e.timeStamp;return null===n||void 0===n?void 0:n(t)};return Object(a.useEffect)((function(){return null===o||void 0===o||o.current.addEventListener("scroll",j),function(){null===o||void 0===o||o.current.removeEventListener("scroll",j)}}),[]),Object(c.jsx)(St,{ref:o,tabIndex:"0",onKeyDown:function(e){e.preventDefault(),f(e)},onClick:b,onContextMenu:b,children:l&&Object(c.jsx)(Ct,{value:l,contextType:t})})})),wt=n(285),Bt=n.n(wt);function Pt(){var e=Object(d.a)(["\n  cursor: pointer;\n  border: 2px solid !important;\n  border-color: ",";\n"]);return Pt=function(){return e},e}var kt=Object(s.default)(Bt.a)(Pt(),(function(e){var t=e.theme,n=e.mapSelected;return"".concat(t.colors[n?"mappedSelectedColor":"mappedColor"],"!important")})),Et=function(){var e=Object(i.d)(),t=De(U.selectors.getFields,$.selectors.getSelectedField),n=Object(ge.a)(t,2),r=n[0],o=n[1],a=function(e){return!!o&&Object(X.isEqual)(e,o)};return!!(null===r||void 0===r?void 0:r.length)&&(null===r||void 0===r?void 0:r.map((function(t,n){var r=t.input,o=t.output,l=(null===r||void 0===r?void 0:r.xpath)||(null===r||void 0===r?void 0:r.jsonpath),i=(null===o||void 0===o?void 0:o.xpath)||(null===o||void 0===o?void 0:o.jsonpath);return Object(c.jsx)(ue.Box,{onClick:function(){return function(t){return e($.actions.setSelectedField(t))}(t)},children:Object(c.jsx)(kt,{within:"lineToContainer",from:K(l,k.SPOOL),to:K(i,k.DOCUMENT),mapSelected:a(t)})},n)})))},At=function(){var e=Object(a.useState)(),t=Object(ge.a)(e,2),n=t[0],r=t[1],o=Object(a.useCallback)((function(e){return r(e)}),[]);return Object(c.jsxs)(ue.Box,{display:"flex",width:"100%",border:"solid 1px gray",className:"lineToContainer",position:"relative",overflow:"hidden",children:[Object(c.jsx)(Ft,{contextType:k.SPOOL,onScrolling:o}),Object(c.jsx)(Ft,{contextType:k.DOCUMENT,onScrolling:o}),Object(c.jsx)(Et,{shouldRender:n})]})};function Dt(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 5rem;\n  width: 100%;\n"]);return Dt=function(){return e},e}var Mt,Nt,Lt,It=Object(s.default)(ue.Box)(Dt()),Ut=function(){return Object(c.jsxs)(ue.Box,{display:"flex",flexDirection:"column",width:"100vw",height:"100vh",children:[Object(c.jsx)(We,{}),Object(c.jsxs)(ue.Box,{display:"flex",width:"100%",children:[Object(c.jsx)(It,{children:Object(c.jsx)(ke,{contextType:k.SPOOL})}),Object(c.jsx)(It,{children:Object(c.jsx)(ke,{contextType:k.DOCUMENT})})]}),Object(c.jsx)(At,{})]})},Rt=function(){return Object(c.jsx)(Ut,{})},_t={store:le,history:ne},Ht=_t.store,Xt=_t.history;o.a.render((Mt=Rt,Nt=Ht,Lt=Xt,Object(c.jsx)(i.a,{store:Nt,children:Object(c.jsx)(u.a,{history:Lt,children:Object(c.jsx)(h,{children:Object(c.jsx)(Mt,{})})})})),document.getElementById("root"))}},[[365,1,2]]]);
//# sourceMappingURL=main.1ddde0ca.chunk.js.map